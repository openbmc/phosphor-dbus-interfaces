description: >
    Implement to provide features needed to build a PLDM Request message. This
    API would be used by PLDM requester apps on the BMC.

    Any OpenBMC implementation must provide exactly one implementation of
    xyz.openbmc_project.Pldm.Requester on /xyz/openbmc_project/pldm.

    PLDM stands for Platform Level Data Model. More information about PLDM (and
    MCTP) can be found at https://www.dmtf.org/standards/pmci.

methods:
    - name: GetInstanceId
      description: >
          Obtain a new PLDM instance id, for the input MCTP EID, to be used in a
          PLDM request message. Instance ids help distinguish PLDM response
          messages when a PLDM requester sends out multiple request messages,
          without waiting for a response message. Refer the PLDM specification
          DSP0240 version 1.0.0. Also refer
          https://github.com/openbmc/docs/blob/master/designs/pldm-stack.md#Requester.

          The instance id starts at 0 and can go upto 31 (5 bits). If there's a
          call to this method when all 32 ids have already been granted to the
          input eid, and no instance ids have been expired, then the id should
          roll over to 0.
      parameters:
        - name: eid
          type: byte
          description: >
            The MCTP endpoint, specified by 'eid' (endpoint id), for which the
            new PLDM instance id needs to be generated.
      returns:
        - name: instanceid
          type: byte
          description: >
            PLDM instance id.

    - name: ExpireInstanceId
      description: >
          A PLDM requester app may call this method to expire a previously
          granted instance id. The requester would do this for two reasons - it
          received a PLDM response message matching the instance id in a
          request, or it timed out waiting for a response.

          Alternatively, a requester app may not call this at all, if it knows
          it won't have more than 32 (max instance ids) outstanding PLDM request
          messages at a time.

          If there's a request to expire an instance id that has not been
          granted, then a NotAllowed exception will be thrown.
      errors:
        - xyz.openbmc_project.Common.Error.NotAllowed
