{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9f5b21a3_26e934a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-01T15:21:08Z",
      "side": 1,
      "message": "Marking as -1 for clarity.  This needs to be a property.",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "996d93ab_cf4c0a48",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-10-08T16:02:09Z",
      "side": 1,
      "message": "Why would this be a method and not a property?",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8610eddb_aa392a70",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-10-08T16:17:59Z",
      "side": 1,
      "message": "this method needs to check current MFA status and secret key setup or not for a user and other checks and returns right status if generate secret key required at that moment when this method gets called. If its a property then property value needs to maintained correctly and always change property values based of different factors this case.\nso I would prefer to have D-bus method instead for D-bus property",
      "parentUuid": "996d93ab_cf4c0a48",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "947c5c11_d01a4d33",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-10-08T16:35:52Z",
      "side": 1,
      "message": "Isn\u0027t the calculation of \"the other stuff\" the same no matter if it is a property or a method call?  Can we make it a property with `readonly` and no `emits_change`?  That way you\u0027re only required to figure it out when explicitly requested.",
      "parentUuid": "8610eddb_aa392a70",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fef539a_0617c890",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-10-08T17:05:38Z",
      "side": 1,
      "message": "ok but I always have this question is there any guidelines to decide when to have D-bus method vs D-bus property.",
      "parentUuid": "947c5c11_d01a4d33",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df5cc4e6_83e07dd2",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-10-15T06:16:15Z",
      "side": 1,
      "message": "Hi Patrick \nlooking for your inputs here, just curious to know why it recommends to define a property instead of method.",
      "parentUuid": "4fef539a_0617c890",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee2d0cf5_a203be58",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-10-30T11:05:39Z",
      "side": 1,
      "message": "I\u0027m surprised to see this as a question.\n\nIt shouldn\u0027t be much different than C++ class design.  You use a property for storing data and a method for causing actions.  The only time we use a method for properties, specifically for writing them, is when you need to set multiple properties atomically.",
      "parentUuid": "df5cc4e6_83e07dd2",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47ac82f8_2a040896",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-10-30T11:26:31Z",
      "side": 1,
      "message": "ok. In this case, we dont need to store any data, that\u0027s why i wanted to clarify.  this method identifies whether TOTP secret key setup required for a given user at runtime.",
      "parentUuid": "ee2d0cf5_a203be58",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8e0b787_8c809d64",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-10-30T11:53:25Z",
      "side": 1,
      "message": "You\u0027re describing this in terms of your implementation though and not as an interface. \n\nFrom the perspective of an interface, this is a property; it is data or state stored by the \"object\".  The fact that your implementation doesn\u0027t store it as data and instead calculates it, doesn\u0027t change that as an interface it is a single piece of information that your dbus object \"knows\".",
      "parentUuid": "47ac82f8_2a040896",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddcf3a32_9d9cb241",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-10-31T04:30:00Z",
      "side": 1,
      "message": "It depend how you ask the question your self. To me it looks like query made over Dbus to check if a secretKey generation required or not. It is neither a data stored by dbus nor a property that some one going to set or needs notification for its change.  \n\nIf you think about how this  is going to be implemented. You will see an unnecessary override of property getter just to compute the value of it. Needless to say the non useful setter and property emission code generated for the property.",
      "parentUuid": "a8e0b787_8c809d64",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62fdddf5_f2ed8491",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-01T15:20:39Z",
      "side": 1,
      "message": "\u003e You will see an unnecessary override of property getter just to compute the value of it.\n\nThe amount of code for a method call vs a property getter is roughly equivalent.\n\n\u003e Needless to say the non useful setter and property emission code generated for the property.\n\nSet the property as readonly or const, as appropriate.",
      "parentUuid": "ddcf3a32_9d9cb241",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a689999c_b072343c",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-11-05T10:57:51Z",
      "side": 1,
      "message": "Ok, but why do we it all if a simple method would do what is needed.",
      "parentUuid": "62fdddf5_f2ed8491",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2a91161_a51bd7a7",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-05T11:20:06Z",
      "side": 1,
      "message": "In almost every programming context there are multiple choices that _can_ work.  Following conventions is one aspect that can make one choice better than another. \n\nIn this case, every reading I have of what you are attempting here says this is a property of the interface (both figuratively and literally).  Conventions are that this should be a property. \n\nThis is the last I am going to write on this topic unless you bring significant new data.",
      "parentUuid": "a689999c_b072343c",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b6771fa_61bfc357",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-11-05T16:37:07Z",
      "side": 1,
      "message": "In any programming context having multiple things to track same state is not a good idea. \nI believe a property will have have  corresponding variable declared in the dbus object. Now we have two things to track the same  state(secretkeyGenerationRequried), one in Dbus object and the other is the file present  in user\u0027s home directory.  If you wanted to give completeness to the implementation then you have to always update the variable based on the file presence. This is an unnecessary complication we need to worry. If you are saying that don\u0027t worry about the variable and if someone make a property query, always return value based on the presence of the file, I am ok with that. \n\nAny way I don\u0027t want to block this commit because I have a disagreement here. I just don\u0027t want to add extra complication to the implementation.",
      "parentUuid": "e2a91161_a51bd7a7",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c3a63cb_9972f4f9",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-05T17:06:57Z",
      "side": 1,
      "message": "\u003e I believe a property will have have corresponding variable declared in the dbus object. Now we have two things to track the same state(secretkeyGenerationRequried), one in Dbus object and the other is the file present in user\u0027s home directory. \n\nThis seems like a misunderstanding of how the dbus binding generation works.  If you don\u0027t want a variable (for instance if the check is just a fs::exists call) you can overload the method call for the property get and do whatever you want in it.  You don\u0027t need a \"real\" variable to back a dbus property.",
      "parentUuid": "0b6771fa_61bfc357",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c5fa0fd_d1a890dc",
        "filename": "yaml/xyz/openbmc_project/User/TOTPAuthenticator.interface.yaml",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-11-06T05:04:50Z",
      "side": 1,
      "message": "Yes, exactly that is what I did for secretKeyIsValid  property( a different property) . But I could see a bool _secretKeyIsValid \u003d false; variable generated in server class. I felt it is unnecessary for the api.\n\nI don\u0027t mind following conventions. Just wanted to understand it before following the conventions blindly. \n\nI am fine with making this as property instead of a method.",
      "parentUuid": "8c3a63cb_9972f4f9",
      "revId": "67c83d3fddca376c3ff2153f9b788daab155adbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}