{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1e530007_64e47837",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-05-31T16:14:39Z",
      "side": 1,
      "message": "What is the difference between \"spanning\" and \"connecting\"?  I would have expected the FabricAdapter to be connected to multiple PCIeSlots based on your description.  Can we get more information on what you are solving with the distinction?",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e552386b_a90cec34",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001384
      },
      "writtenOn": "2023-05-31T19:28:51Z",
      "side": 1,
      "message": "The expectation of this commit is Fabric Adapter can be connected to multiple PCIeSlots. As this is new association with required endpoint interface of PCIe slot, created new association name spanning to make it unique.\nAlso fabric adapters are connected to ports as well as slots, using same association ports and slots will be confusing.",
      "parentUuid": "1e530007_64e47837",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa873670_569b127d",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-05-31T19:47:59Z",
      "side": 1,
      "message": "\"confusing\" in what way?  I explicitly wanted to avoid a huge set of associations and especially ones that encode the type in them.  It seems like you\u0027re just working around that direction and coming up with a different association.\n\nLooking at the other associations we\u0027ve used, I think that the FabricAdapter would be `contained_by` the PCIeSlot?  That is what we\u0027ve tried to use else where for containment association to show the device present in the slot.  Does that work for this situation?",
      "parentUuid": "e552386b_a90cec34",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88f3d016_f78756d2",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-01T17:45:14Z",
      "side": 1,
      "message": "To me, contained_by conveys a relationship where the containing object is inside the contained_by object. I think that is not what you are going for here? I think you are going for the logical fabric connection to this fabric adapter?\n\nI think connecting could work here.\nA fabric adapter connected to a pcie slot\nA pcie slot connected to a fabric adapter. \nThat seems reasonable to me if we are trying to reuse associations.",
      "parentUuid": "fa873670_569b127d",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3d85057_7e9922ba",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-01T22:39:18Z",
      "side": 1,
      "message": "I\u0027m hesitant to not use \"contained_by\" here.\n\nDo you generally agree that Devices go *in* a PCIeSlot?\n\nIt sounds like you have an unusual device that is somehow attached to multiple slots.  This is atypical.\n\nMy opinion is we should design the interfaces to be intuitive for the common case and not perfect for the obscure case.\n\nThus, the association between a slot and the device populating that slot would be \"contained_in\" just like a processor would be \"contained_in\" in a socket on a motherboard.",
      "parentUuid": "88f3d016_f78756d2",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b1da0b6_a164d2c8",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001384
      },
      "writtenOn": "2023-06-05T18:55:49Z",
      "side": 1,
      "message": "This requirement is for external IO drawer, which gets connected to PCIe slot on CEC via optical cable. Optical cable gets connected to the ports on the fabric adaptor which is present on the external IO drawer.\n \nFabric adapter on external IO drawer spans out to multiple slots which may/may not be directly connected to it. As slots and fabric adapter may/may not be on the same planar, creating an association between them.\n\nOption1: To generalize the association, we can add new association as below:\n         Fabric Adapter -\u003e Item (containing and contained_in) \nOption2: Modify the existing one\n         Fabric Adapter -\u003e Port (connecting, connected_to) to\n         Fabric Adapter -\u003e Item (connecting, connected_to)",
      "parentUuid": "c3d85057_7e9922ba",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93ceeb9b_26f9997f",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-05T19:07:31Z",
      "side": 1,
      "message": "\u003e Do you generally agree that Devices go in a PCIeSlot?\n\nI do. and for PCIeSlot \u003c-\u003e PCIeDevice, containing and contained_in makes sense to me.\n\nThe one in review is for FabricAdapter -\u003e PCIeSlot though and there I don\u0027t think containing and contained_in makes sense.\n\n\u003e Option1: To generalize the association, we can add new association as below:\nFabric Adapter -\u003e Item (containing and contained_in)\nOption2: Modify the existing one\nFabric Adapter -\u003e Port (connecting, connected_to) to\nFabric Adapter -\u003e Item (connecting, connected_to)\n\noption2 would work. \n\nI would prefer Fabric Adapter -\u003e Port,PCIeSlot (connecting, connected_to) though. Make the interfaces this is used for be called out, but I\u0027m fine with either and the bmcweb code should be the same either way.",
      "parentUuid": "4b1da0b6_a164d2c8",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b903f426_d147f818",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-16T12:45:31Z",
      "side": 1,
      "message": "I don\u0027t understand what this device is.  A PCIeSlot is not connected to something else with a fiber optic cable.  If so, you have a device _in_ the slot that converts PCIe signals into some sort of optical signaling, which is no longer PCIe.  _That_ device is \"contained_in\" the slot.\n\nIf you\u0027re trying to model this FabricAdapter as the thing over in your IO drawer, you\u0027re missing a bunch of pieces in between from a model perspective.\n\nAgain:\n\n\u003e My opinion is we should design the interfaces to be intuitive for the common case and not perfect for the obscure case.\n\nFor most people a \"FabricAdapter\" is a device that plugs into a PCIe slot and gives the server a SAN or Infiniband capability.  You seem to have something unusual and either you\u0027re not describing it and modelling it in a way that others can understand or it is just weird and we shouldn\u0027t bend the model to match your weirdness.",
      "parentUuid": "93ceeb9b_26f9997f",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a6e0826_b528353b",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-16T12:53:12Z",
      "side": 1,
      "message": "People _do_ make cards that extend PCIe over QSFP transceivers.  An example is this: https://adnacom.com/pcie/\n\nIf you have something similar to that on the server side, you should model that card.  That card would have a Port.  The Port would be connected to the FabricAdapter.  To say the PCIeSlot is connected to the FabricAdapter without anything in between seems like a significant information loss that you\u0027re probably going to want to rectify someday anyhow.  Let\u0027s handle it now.",
      "parentUuid": "b903f426_d147f818",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1fc98a9_5df042a3",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/FabricAdapter.interface.yaml",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001384
      },
      "writtenOn": "2023-07-12T10:19:18Z",
      "side": 1,
      "message": "On power systems - we have capability to enlarge the IO capacity of the server by attaching an external IO drawers. The external IO drawers have a IO Module (PCIe Switch Module) that extends the CEC PCIe fabric and spans out into multiple PCIe Slots. And we have modelled the PCIeSwitch Module as Fabric Adapters as it is extending the CEC PCIe Fabric. Do you think thats inaccurate representation of hardware ? if so ..what do you think is the right way to model the IO Module ?\n\nNow what are trying to model is the connection between the IO Module and the extended PCIe Slots by that IO Module - so we thought connected_to makes sense?",
      "parentUuid": "0a6e0826_b528353b",
      "revId": "6a82deff664287b0e88d2245483e03370907c810",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}