description: >
    This defines a PCIe device to be exposed for system management.  It includes
    the device properties and function properties for all 8 possible functions
    that are needed for the device identification.

properties:
    - name: DeviceType
      type: string
      description: >
          Indicates if the device is MultiFunction or SingleFunction.
    - name: GenerationInUse
      type: enum[xyz.openbmc_project.Inventory.Item.PCIeSlot.Generations]
      default: "Unknown"
      description: >
          The PCIe interface generation in use by the device.
    - name: GenerationSupported
      type: enum[xyz.openbmc_project.Inventory.Item.PCIeSlot.Generations]
      default: "Unknown"
      description: >
          The maximum PCIe generation supported by the device.

    - name: Function0ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function0DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function0DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function0FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function0RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function0SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function0SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function0VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function1ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function1DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function1DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function1FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function1RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function1SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function1SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function1VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function2ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function2DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function2DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function2FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function2RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function2SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function2SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function2VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function3ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function3DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function3DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function3FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function3RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function3SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function3SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function3VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function4ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function4DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function4DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function4FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function4RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function4SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function4SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function4VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function5ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function5DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function5DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function5FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function5RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function5SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function5SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function5VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function6ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function6DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function6DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function6FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function6RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function6SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function6SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function6VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: Function7ClassCode
      type: string
      description: >
          The Class Code for this function.
    - name: Function7DeviceClass
      type: string
      description: >
          The Device Class for this function.
    - name: Function7DeviceId
      type: string
      description: >
          The Device ID for this function.
    - name: Function7FunctionType
      type: string
      description: >
          Indicates if the function is Physical or Virtual
    - name: Function7RevisionId
      type: string
      description: >
          The Revision ID for this function.
    - name: Function7SubsystemId
      type: string
      description: >
          The Subsystem ID for this function.
    - name: Function7SubsystemVendorId
      type: string
      description: >
          The Subsystem Vendor ID for this function.
    - name: Function7VendorId
      type: string
      description: >
          The Vendor ID for this function.

    - name: MaxLanes
      type: size
      default: 0
      description: >
          The maximum number of PCIe lanes supported by the PCIe Device

    - name: LanesInUse
      type: size
      default: 0
      description: >
          The number of PCIe lanes in use by this device.

    - name: SlotGeneration
      type: enum[self.SlotGenerations]
      default: "Unknown"
      description: >
          The PCIe generation of the slot

    - name: SlotLanes
      type: size
      description: >
          The maximum number of PCIe lanes supported by the slot

    - name: SlotType
      type: enum[self.SlotTypes]
      default: "Unknown"
      description: >
          The type of the slot

    - name: SlotHotPluggable
      type: boolean
      description: >
          Whether this PCIe slot supports hotplug

enumerations:
    - name: SlotGenerations
      description: >
          Possible PCIe generations
      values:
          - name: "Gen1"
            description: >
                PCIe v1.0 slot

          - name: "Gen2"
            description: >
                PCIe v2.0 slot

          - name: "Gen3"
            description: >
                PCIe v3.0 slot

          - name: "Gen4"
            description: >
                PCIe v4.0 slot

          - name: "Gen5"
            description: >
                PCIe v5.0 slot

          - name: "Unknown"
            description: >
                Version of the PCIe slot is unknown

    - name: SlotTypes
      description: >
          Possible types of a PCIe slot
      values:
          - name: "FullLength"
            description: >
                Full-Length PCIe slot

          - name: "HalfLength"
            description: >
                Half-Length PCIe slot

          - name: "LowProfile"
            description: >
                Low-Profile or Slim PCIe slot

          - name: "Mini"
            description: >
                Mini PCIe slot

          - name: "M_2"
            description: >
                PCIe M.2 slot

          - name: "OEM"
            description: >
                An OEM-specific PCIe slot

          - name: "OCP3Small"
            description: >
                Open Compute Project 3.0 small form factor PCIe slot

          - name: "OCP3Large"
            description: >
                Open Compute Project 3.0 large form factor PCIe slot

          - name: "U_2"
            description: >
                U.2 / SFF-8639 PCIe slot or bay

          - name: "Unknown"
            description: >
                Type of the PCIe slot is unknown

associations:
    - name: upstream_processor
      description: >
          Objects that implement PCIeSlot can optionally implement the
          upstream_processor association to provide a link back to a PCIe host
          bridge or on-processor PCIe root complexes.
      reverse_names:
          - associated_pcie_slots
      required_endpoint_interfaces:
          - xyz.openbmc_project.Inventory.Item.Cpu
