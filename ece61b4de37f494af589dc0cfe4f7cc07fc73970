{
  "comments": [
    {
      "key": {
        "uuid": "6b28682e_77a44ae2",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-12-02T18:35:03Z",
      "side": 1,
      "message": "I think we need some convention on these files to indicate that they are internal / implementation-specific errors.  This will help avoid discussions like that on line 7 and similarly avoid anyone accidentally starting to export these over a dbus response.  Maybe an \"Internal\" subdirectory?",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a4d5b8f_b805821d",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-12-02T20:13:27Z",
      "side": 1,
      "message": "These are used by bmcweb as well but only for this specific code update path. \nAren\u0027t these already kind of in a subdirectory \"Software\"?\nAnyone really going to use these xyz::openbmc_project::Software::Image errors for a non-Software repo ?\n\nDon\u0027t we have internal / implementation-specific errors in similar paths. E.g. \nhttps://github.com/openbmc/phosphor-dbus-interfaces/blob/master/xyz/openbmc_project/BIOSConfig/Common.errors.yaml\nhttps://github.com/openbmc/phosphor-dbus-interfaces/blob/master/xyz/openbmc_project/User/Common.errors.yaml",
      "parentUuid": "6b28682e_77a44ae2",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "865d2d1b_41d48794",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-12-02T21:28:25Z",
      "side": 1,
      "message": "I think we\u0027re both confused about a few points.\n\n\u003e These are used by bmcweb as well but only for this specific code update path. \n\nHow is this possible?  These aren\u0027t documented in an interface and I suspect they do not ever get returned on a dbus interface based on some of the discussion we had recently.\n\nI looked at the bmcweb code and they\u0027re manually parsing log entries for various.  This is entirely bogus behavior that I don\u0027t even want to give a thought to here (in this commit).\n\n\u003e Aren\u0027t these already kind of in a subdirectory \"Software\"?\n\u003e Anyone really going to use these xyz::openbmc_project::Software::Image errors for a non-Software repo ?\n\nSubdirectory !\u003d internal.  Subdirectory means they are scoped.  Internal means they are only used within a particular implementation for logging its own internal errors and are not passed between processes (via dbus) in response to a dbus request.\n\n\u003e Don\u0027t we have internal / implementation-specific errors in similar paths. E.g. \n\nNo, there is a big difference in the examples you gave.  The errors presented here are not implementation-specific because they are defined by the interface itself.  Certain method and/or property operations specifically return those errors under failure scenarios.  They are the error-return-type, if you will, of those method calls.  _Any_ implementation of those interfaces could (and should) return the same errors under similar situations.\n\nThe errors you\u0027re proposing here are never returned outside of the implementation and thus I\u0027m calling them \"internal\".  These YAML files only exist for a relationship between phosphor-logging and your application and are not related to any dbus interface.",
      "parentUuid": "0a4d5b8f_b805821d",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f4abe47_8ec1ab6c",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T18:34:50Z",
      "side": 1,
      "message": "A couple drive by thoughts...\n\n1 - put all the \"internal\" yaml into the phosphor-logging repo\n2 - skip phosphor-logging+sdbusplus entirely and just call xyz.openbmc_project.Logging.Create directly from your application.",
      "parentUuid": "865d2d1b_41d48794",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df3f1608_63b12a29",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-12-29T20:20:46Z",
      "side": 1,
      "message": "\u003e I looked at the bmcweb code and they\u0027re manually parsing log entries for various.  This is entirely bogus behavior that I don\u0027t even want to give a thought to here (in this commit).\n\nWe should move bmcweb away from manually parsing log entries and to using these correctly then. \n\n\u003e   Maybe an \"Internal\" subdirectory?\n\nI don\u0027t have a strong preference. internal/xyz/openbmc_project/Software/Image.errors.yaml or  xyz/openbmc_project/Software/Internal/Image.errors.yaml ? Or do you prefer either of Brad\u0027s suggestions?",
      "parentUuid": "7f4abe47_8ec1ab6c",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ad1b641_84af4445",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2020-12-02T02:00:25Z",
      "side": 1,
      "message": "Any reason we don\u0027t just use the Common one for this (https://github.com/openbmc/phosphor-dbus-interfaces/blob/master/xyz/openbmc_project/Common.errors.yaml)?",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a063357_c9b32e22",
        "filename": "xyz/openbmc_project/Software/Image.errors.yaml",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-12-02T17:30:15Z",
      "side": 1,
      "message": "Because that doesn\u0027t have metadata \n\nhttps://github.com/openbmc/phosphor-dbus-interfaces/blob/master/xyz/openbmc_project/Common.metadata.yaml#L11\n\nlike this one does:\n\n- name: InternalFailure\n  level: ERR\n  meta:\n    - str: \"FAIL\u003d%s\"\n      type: string",
      "parentUuid": "3ad1b641_84af4445",
      "revId": "ece61b4de37f494af589dc0cfe4f7cc07fc73970",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}