{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e5a6ede6_53beb192",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2023-01-17T21:54:32Z",
      "side": 1,
      "message": "By default, \"Off\" is a graceful shutdown. If you want a hard power off then you issue an \"Off\" to the chassis state target.",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9353877_f36893c7",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-01-18T06:45:54Z",
      "side": 1,
      "message": "But what if Chassis power control already binding to whole slot\u0027s standby power?\n\nIf this transition added, designer will be able to easily differ graceful shutdown and hard off for host only from chassis power off that effects whole sled/slot\u0027s power.\n\nPlease let us know if there\u0027s any concern about effecting the former design.\nThank you.",
      "parentUuid": "e5a6ede6_53beb192",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "74cf774b_50957b89",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-01-18T10:11:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e9353877_f36893c7",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "884d0516_8291b149",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2023-01-18T17:19:38Z",
      "side": 1,
      "message": "The whole chassis power should be under chassis_systemX dbus object path (https://grok.openbmc.org/xref/openbmc/phosphor-dbus-interfaces/yaml/xyz/openbmc_project/State/README.md?r\u003da1347418#57)",
      "parentUuid": "74cf774b_50957b89",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffc23212_b2d9336c",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-01-19T02:16:29Z",
      "side": 1,
      "message": "As the document mentioned, one chassis-system for whole sled, and 4 chassis for each slot\u0027s power, if I need the power control for CPU only, it would be more suitable as host state than chassis state.",
      "parentUuid": "884d0516_8291b149",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f373e165_16bf7c2e",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2023-01-19T22:30:58Z",
      "side": 1,
      "message": "I\u0027m getting confused. Fundamentally the \"Off\" in this enum is meant to be a graceful shutdown so adding a GracefulShutdown doesn\u0027t make sense. If anything, you should be trying to get a HardPowerOff or something like that in this interface. But that debate has raged for years and the outcome was hard power off\u0027s are done via the chassis.",
      "parentUuid": "ffc23212_b2d9336c",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "605b9a8c_310550ea",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-01-30T02:17:48Z",
      "side": 1,
      "message": "As the explanation, I classify the behaviors for each transition now exists:\nhost transition to off -\u003e host graceful shutdown\nchassis transition to off -\u003e whole sled/slot power off\n\nSo if I need to implement an new behavior that hard power off the CPU ONLY, and keep the other partition on slot power on like NIC, BMC, BIC... and so on, what I have to do is adding a new transition to stand as host hard power off, is there any reason that can\u0027t be accepted? thank you for your replying.",
      "parentUuid": "f373e165_16bf7c2e",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8d4e18b_62172809",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-02-06T01:51:20Z",
      "side": 1,
      "message": "Please help to reply for your approval or concern about adding hard power off in host state manager, I\u0027ll revise then depend on the discussions, thank you.",
      "parentUuid": "605b9a8c_310550ea",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14ef8dce_488ea4a4",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2023-02-10T19:12:49Z",
      "side": 1,
      "message": "I think I need a better explanation of your server. For example, on my server we have 1 BMC, 1 Chassis power domain, and 1 Host firmware running. The BMC is on a different power domain then the chassis/host so powering off the host/chassis does not affect the BMC or the network into the BMC. Is that not the case with your system?",
      "parentUuid": "c8d4e18b_62172809",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d4c8649_d6826416",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-02-14T07:22:20Z",
      "side": 1,
      "message": "Our server design is that:\n1. 1 BMC on baseboard control 4 server board, and has its power domain independent from the server board\n2. each server board has 1 CPU, NIC, BIC... and so on, CPU boot up when both its own power and 12v power supplied, and most of other partition relied on 12v power only\n\nSo now we design to:\n1. Control the 12v power from chassis power off/on for each server board\u0027s every partition on it\n2. Control the CPU power from host state manager\noff(graceful-shutdown) for gently power off through host\nhardpoweroff(to-do) for shutdown the HW CPU power only",
      "parentUuid": "14ef8dce_488ea4a4",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a6f70e2_c9197d97",
        "filename": "yaml/xyz/openbmc_project/State/Host.interface.yaml",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2023-02-22T19:11:48Z",
      "side": 1,
      "message": "I see, that\u0027s an interesting design, almost like a blade center it sounds like. Each blade shares the 12v power domain, but then each blade has it\u0027s own CPU power domain. As you\u0027ve noticed, we don\u0027t really have support for that.\n\nSo I see a couple of options. You introduce something here called \"HardOff\". That would be implementation specific but you could remove your your CPU power via that. Other implementations could just map to their chassis off target.\n\nAnother idea would be you create a chassis0 instance on d-bus that represents the 12v and then chassis[1-4] for the individual CPU power domains. Then a hard power off of a CPU power domain just targets the appropriate 1-4.\n\nI\u0027m still not sure how all of this will be represented within Redfish. 1 BMC, 1 Chassis, 4 Systems?",
      "parentUuid": "1d4c8649_d6826416",
      "revId": "e0ca4b36cd074e9497e5645b81c864ae878dd1d5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}