{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c77ed722_742c122d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1002558
      },
      "writtenOn": "2025-09-27T11:14:25Z",
      "side": 1,
      "message": "Hi @patrick@stwcx.xyz,\nCould you please also review it when you have time?\nSince you approved this change yesterday (https://gerrit.openbmc.org/c/openbmc/openbmc/+/82793 ), this change also needs to be approved in order for the functionality to work.\nThank you!",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "014c886e_bd04805b",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-09-27T15:53:01Z",
      "side": 1,
      "message": "https://github.com/openbmc/docs/blob/master/designs/event-logging.md#versioning-policy\n\nChange to 1.1 please.",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f78f980_4bbe0dd9",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1002558
      },
      "writtenOn": "2025-09-30T01:11:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "014c886e_bd04805b",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8bb93c4d_8cb2230e",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000182
      },
      "writtenOn": "2025-09-27T23:10:22Z",
      "side": 1,
      "message": "I\u0027m not sure if it\u0027s needed at all, secondary or primary from system perspective doesn\u0027t have any connection on AST2600 with current WDT drivers. What do you except to see within this SecondaryFlashBoot? And in which time you want to see it? Is this invoked by the user from primary side but what happens if it\u0027s happens because of fmc_wdt2/wdt trigger, does it record?",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a91527b_71691131",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-09-28T10:51:56Z",
      "side": 1,
      "message": "Did you look at the referenced code? https://gerrit.openbmc.org/c/openbmc/openbmc/+/82793\n\nThe phosphor-static-norootfs layout definitely has a “primary” and “secondary” concept, which builds on the behavior of the Aspeed ABR (“Alternate Boot Recogery) mode.",
      "parentUuid": "8bb93c4d_8cb2230e",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2604f5a3_6c6a11df",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000182
      },
      "writtenOn": "2025-09-28T11:37:32Z",
      "side": 1,
      "message": "Yes, I did, there is just one transition from 1 to 2 (which means SecondaryFlashBoot), not from 2 to 1  plus I\u0027m trying to say it will get it post factum, not in the time or before of transition, what happens if it doesn\u0027t load to linux rootfs/stuck at uboot or somewhere early in code? You just will not know if this transition succeeded or ever happens. And if happens switch back from 2 to 1, does it \"PrimaryFlashBoot\" or maybe enum \"FlashBootSource\" with \"Primary\" and \"Secondary\"? And what I see from 82793 that on write happens only on boot, if manual/auto switch happens from 1 to 2 and it won\u0027t back - nobody will see this message.",
      "parentUuid": "7a91527b_71691131",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2b127fb_20545f45",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002558
      },
      "writtenOn": "2025-09-30T01:09:47Z",
      "side": 1,
      "message": "Hi @patrick@stwcx.xyz,\nI’ve updated the code based on your feedback.\nCould you please help review it again when you have time?\nThank you!\n\nHi @fr0st61te@gmail.com,\nThe recording of the SecondaryFlashBoot SEL is based on the result determined in this code\n`meta-facebook/meta-yosemite4/recipes-phosphor/initrdscripts/phosphor-static-norootfs-init/99-platform-init`, which allows the user to know from which flash the current boot was started. However, the result is not directly recorded in the SEL for the user to understand more explicitly, but instead recorded in the system file.\nTherefore, if the system is manually switched from flash 2 back to flash 1, as long as the SEL is not cleared, the user can still identify that the system had previously booted from secondary flash.",
      "parentUuid": "2604f5a3_6c6a11df",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "429038e3_695f3fad",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000182
      },
      "writtenOn": "2025-09-30T06:19:47Z",
      "side": 1,
      "message": "Let me keep it straight: \n\nSystem have two possible outcomes from boot source: primary and secondary. You adding just one of it. Would be much more better if you add \"PrimaryFlashBoot\" or make your option as enum like \"FlashBootSource\"/\"SourceFlashBooted\" with two elements in it as \"Primary\" and \"Secondary\".\n\nAbout your implementation:\n\u003e However, the result is not directly recorded in the SEL for the user to understand more explicitly, but instead recorded in the system file.\n\nThat\u0027s not deterministic, you just \"assume\" that you on that side.\n\n\u003e Therefore, if the system is manually switched from flash 2 back to flash 1, as long as the SEL is not cleared, the user can still identify that the system had previously booted from secondary flash.\n\nif you switched back you\u0027ll see explicitly that your last boot is switch from 1 to 2, not from 2 to 1. You may have problems with understanding chain of boots, I assume you\u0027re switching by touching WDT directly from 1 side, you may add event about transition from 1 to 2, like \"System rebooting to secondary side\" from primary side before transition, same for secondary.",
      "parentUuid": "a2b127fb_20545f45",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bc84377_a7567663",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002558
      },
      "writtenOn": "2025-09-30T07:30:12Z",
      "side": 1,
      "message": "OK.\nDo you mean that the current \"SecondaryFlashBoot\" event is not sufficient to cover both boot sources(\"Primary\" and \"Secondary\"), and that I should record events for both boot source? \nJust to confirm, did I understand your point correctly?\nIf I add a PrimaryFlashBoot event, as you suggested, then regardless of whether the system boots from 1 or 2, it will be clear which boot source was used after each boot or reboot. Would that address your concern?",
      "parentUuid": "429038e3_695f3fad",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09aa53e4_da4ab398",
        "filename": "yaml/xyz/openbmc_project/State/BMC.events.yaml",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000182
      },
      "writtenOn": "2025-09-30T08:27:52Z",
      "side": 1,
      "message": "\u003e Do you mean that the current \"SecondaryFlashBoot\" event is not sufficient to cover both boot sources(\"Primary\" and \"Secondary\")\n\nI think it\u0027s not sufficient from interface view both cases are needed for interface to make it complete. \n\n\u003e and that I should record events for both boot source?\n\nWriting it in your case exactly, that\u0027s on your own but I\u0027d be use it to make simple FSM with start and end(changing from 1 to 2 on primary side - start, boot to 2 - end).\n\n\u003e If I add a PrimaryFlashBoot event, as you suggested, then regardless of whether the system boots from 1 or 2, it will be clear which boot source was used after each boot or reboot. Would that address your concern?\n\nYeap.",
      "parentUuid": "1bc84377_a7567663",
      "revId": "573a71216a71412dcfdc9f71ef76e4cdbd38dc69",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}