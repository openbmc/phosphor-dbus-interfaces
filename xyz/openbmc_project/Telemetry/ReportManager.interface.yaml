description: >
    Implement to provide reports management. Contain information about report
    limitations and allows to add report.

methods:
  - name: AddReport
    description: >
        Create new object that represent Report with
        xyz.openbmc_project.Telemetry.Report interface stored in path
        /xyz/openbmc_project/Telemetry/Reports/{Domain}/{Name} where
        Domain and Name are parameters of this method.
    parameters:
      - name: name
        type: string
        description: Defines the name of report to be exposed over D-Bus
      - name: domain
        type: string
        description: Defines the domain for which report will be collected
      - name: reportingType
        type: enum[xyz.openbmc_project.Telemetry.Report.ReportingType]
        description: Defines report type
      - name: emitsReadingsUpdate
        type: boolean
        description: >
            Defines presence of PropertiesChanged signal for
            xyz.openbmc_project.Telmetry.Report.Readings property
      - name: logToMetricReportsCollection
        type: boolean
        description: >
            Defines presence of Report in Metric Report Collection in Redfish
            Telemetry Service
      - name: scanPeriod
        type: uint64
        description: >
            Defines period of time when Report is updated with new values.
            ScanPeriod is in milliseconds.
      - name: metricParams
        type: array[struct[array[object_path],enum[xyz.openbmc_project.Telemetry.Report.OperationType],string,string]]
        description: >
            Array of metric parameters where first parameter is an array of
            sensors DBus paths. Second parameter specifies operation type of
            metric. Third parameter is a metric Id and fourth one is a metadata
            that is used to store Redfish URIs correspondent to sensor DBus
            paths divided by commas.
    returns:
      - name: reportPath
        type: string
        description: >
            Path to new report - ie.
            /xyz/openbmc_project/Telemetry/Reports/{Domain}/{Name}

properties:
  - name: MaxReports
    type: uint32
    description: >
        Contains the max number of metric reports supported by the Telemetry.
        This property is added to be compliant with the Redfish Telemetry
        Service schema, that contains MaxReports property.
    flags:
    - const
  - name: PollRateResolution
    type: uint64
    description: >
        Minimal allowed time between readings property updates. It limits
        ScanPeriod property in xyz.openbmc_project.Telemetry.Report and
        scanPeriod parameter in AddReport method in ReportManager. ScanPeriod
        value has to be greater or equal to this value and is divisible by it.
    flags:
    - const
