description: >
    This interface provides the Board Manager Metric values for resource
    utilization.

properties:
    - name: Value
      type: double
      description: >
          The current metric value.
      flags:
          - readonly
    - name: MaxValue
      type: double
      default: infinity
      flags:
          - readonly
      description: >
          The maximum supported metric value.
    - name: MinValue
      type: double
      default: -infinity
      flags:
          - readonly
      description: >
          The minimum supported metric value.
    - name: Unit
      type: enum[self.Unit]
      description: >
          The unit for metric value. For example, memory in bytes, CPU in
          percent, reboots in count.
      flags:
          - const

enumerations:
    - name: Unit
      description: >
          Metric value unit.
      values:
          - name: Bytes
            description: >
                Unit to indicate bytes.
          - name: Count
            description: >
                Unit to indicate counts.
          - name: Percent
            description: >
                Unit to indicate percentage.

associations:
    - name: measuring
      description: >
          Metrics measure the inventory item's resource utilization, therefore
          implement an association to the inventory item.
      reverse_names:
          - measured_by
      required_endpoint_interfaces:
          - xyz.openbmc_project.Inventory.Item

paths:
    - namespace: /xyz/openbmc_project/metric
      description: >
          The root path for all Metrics.
      segments:
          - name: TotalMemory
            description: >
                The total memory metric.
            value: memory/total
          - name: FreeMemory
            description: >
                The free memory metric.
            value: memory/free
          - name: AvailableMemory
            description: >
                The available memory metric.
            value: memory/available
          - name: SharedMemory
            description: >
                The shared memory utilization.
            value: memory/shared
          - name: BufferedAndCachedMemory
            description: >
                The buffered and cached memory memory utilization.
            value: memory/buffered_and_cached
          - name: KernelCPU
            description: >
                The kernel CPU utilization.
            value: cpu/kernel
          - name: UserCPU
            description: >
                The user CPU utilization.
            value: cpu/user
          - name: TotalCPU
            description: >
                The total CPU utilization.
            value: cpu/total
          - name: Storage
            description: >
                The different types of available storage, such as tmp, var etc.
                Each storage type will have path relative to storage/, for
                example storage/tmp for temporary storage.
            value: storage
          - name: ReadWriteStorage
            description: >
                The available read write storage. This storage path has been
                explicitly added to the interface file as it gets used in BMCWeb
                and free storage metric gets exposed via Redfish.
            value: storage/rw
          - name: RebootCount
            description: >
                Reboot statistic to track number of times device rebooted
                without failure.
            value: reboot/count
          - name: RebootCountWithFailure
            description: >
                Reboot statistic to track number of times device rebooted
                because of a failure.
            value: reboot/count_with_failure
          - name: PCIeCorrectableErrorCount
            description: >
                The total number of PCIe correctable errors for a device.
            value: pcie/correctable_error_count
          - name: PCIeNonFatalErrorCount
            description: >
                The total number of PCIe non-fatal errors for a device.
            value: pcie/non_fatal_error_count
          - name: PCIeFatalErrorCount
            description: >
                The total number of PCIe fatal errors for a device.
            value: pcie/fatal_error_count
          - name: PCIeL0ToRecoveryCount
            description: >
                The total number of times the PCIe link states transitioned from
                L0 to the recovery state for a device.
            value: pcie/l0_to_recovery_count
          - name: PCIeReplayCount
            description: >
                The total number of PCIe replays issued by a device. A replay is
                a retransmission of a TLP and occurs because the ACK timer is
                expired, which means that the receiver did not send the ACK or
                this device did not properly decode the ACK.
            value: pcie/replay_count
          - name: PCIeReplayRolloverCount
            description: >
                The total number of PCIe replay rollovers issued by a device. A
                replay rollover occurs when consecutive replays failed to
                resolve the errors on the link, which means that this device
                forced the link into the recovery state.
            value: pcie/replay_rollover_count
          - name: PCIeNAKSentCount
            description: >
                The total number of Negative Acks issued on the PCIe link by a
                device.
            value: pcie/nak_sent_count
          - name: PCIeNAKReceivedCount
            description: >
                The total number of Negative Acks issued on the PCIe link by a
                receiver.
            value: pcie/nak_received_count
          - name: PCIeUnsupportedRequestCount
            description: >
                The total number of PCIe unsupported requests received by a
                device.
            value: pcie/unsupported_request_count
          - name: NetworkTXBytes
            description: >
                The total number of bytes transmitted on a port since reset.
            value: network/tx_bytes
          - name: NetworkRXBytes
            description: >
                The total number of bytes received on a port since reset.
            value: network/rx_bytes
          - name: NetworkTXMulticastFrames
            description: >
                The total number of good multicast frames transmitted on a port
                since reset.
            value: network/tx_multicast_frames
          - name: NetworkRXMulticastFrames
            description: >
                The total number of valid multicast frames received on a port
                since reset.
            value: network/rx_multicast_frames
          - name: NetworkTXUnicastFrames
            description: >
                The total number of good unicast frames transmitted on a port
                since reset.
            value: network/tx_unicast_frames
          - name: NetworkRXUnicastFrames
            description: >
                The total number of valid unicast frames received on a port
                since reset.
            value: network/rx_unicast_frames
          - name: NetworkTXBroadcastFrames
            description: >
                The total number of good broadcast frames transmitted on a port
                since reset.
            value: network/tx_broadcast_frames
          - name: NetworkRXBroadcastFrames
            description: >
                The total number of valid broadcast frames received on a port
                since reset.
            value: network/rx_broadcast_frames
          - name: NetworkRXFCSErrors
            description: >
                The total number of frames received with frame check sequence
                (FCS) errors on a port since reset.
            value: network/rx_fcs_errors
          - name: NetworkRXFrameAlignmentErrors
            description: >
                The total number of frames received with alignment errors on a
                port since reset.
            value: network/rx_frame_alignment_errors
          - name: NetworkRXFalseCarrierErrors
            description: >
                The total number of false carrier errors received from phy on a
                port since reset.
            value: network/rx_false_carrier_errors
          - name: NetworkRXUndersizeFrames
            description: >
                The total number of frames that are smaller than the minimum
                frame size of 64 bytes.
            value: network/rx_undersize_frames
          - name: NetworkRXOversizeFrames
            description: >
                The total number of frames that exceed the maximum frame size.
            value: network/rx_oversize_frames
          - name: NetworkTXPauseXONFrames
            description: >
                The total number of XON frames transmitted to the network.
            value: network/tx_pause_xon_frames
          - name: NetworkRXPauseXONFrames
            description: >
                The total number of flow control frames from the network to
                resume transmission.
            value: network/rx_pause_xon_frames
          - name: NetworkTXPauseXOFFFrames
            description: >
                The total number of XOFF frames transmitted to the network.
            value: network/tx_pause_xoff_frames
          - name: NetworkRXPauseXOFFFrames
            description: >
                The total number of flow control frames from the network to
                pause transmission.
            value: network/rx_pause_xoff_frames
          - name: NetworkTXSingleCollisions
            description: >
                The times that a successfully transmitted frame encountered a
                single collision.
            value: network/tx_single_collisions
          - name: NetworkTXMultipleCollisions
            description: >
                The times that a transmitted frame encountered 2-15 collisions.
            value: network/tx_multiple_collisions
          - name: NetworkTXExcessiveCollisions
            description: >
                The number of times a single transmitted frame encountered more
                than 15 collisions.
            value: network/tx_excessive_collisions
          - name: NetworkTXLateCollisions
            description: >
                The total number of collisions that occurred after one slot time
                as defined by IEEE 802.3.
            value: network/tx_late_collisions
    - name: BMC
      description: >
          The BMC metrics.
      value: /xyz/openbmc_project/metric/bmc
