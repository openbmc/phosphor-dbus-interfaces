{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d703a106_10ceb2a6",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/README.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-17T21:19:19Z",
      "side": 1,
      "message": "Why not Slot?  Do we want \"or Slot\"?  Do we need to be explicit that you might end up with this?\n\n    Cpu -\u003e Connected_to -\u003e PCIeSlot -\u003e Containing -\u003e PCIeDevice",
      "range": {
        "startLine": 28,
        "startChar": 10,
        "endLine": 28,
        "endChar": 20
      },
      "revId": "1d316b4fb6c9209be3505aec7e233106657c535c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c46184e3_853ea6e9",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/README.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-07-18T16:23:11Z",
      "side": 1,
      "message": "There is a trade off here. \nPatch set 2 was PCIeSlot so went back to that for PatchSet 4. \n\nRedfish is adding this new link on the PCIeDevice, so if you want this Link in Redfish from PCIeDevice to Processor, you have to implement and associate a PCIeSlot if OpenBMC does it this way (CPU \u003c-\u003e PCIeSlot)\n\nIf OpenBMC adds this association to the PCIeDevice (CPU \u003c-\u003e PCIeDevice), an empty PCIeSlot isn\u0027t going to be able to have this Redfish Link. Is this worse?\nRedfish is now modeling an empty PCIeSlot as an \"Absent\" PCIeDevice (matches how they model CPUs and DIMMs). \n\n\nFrom discussion on discord on 6/15/23 in the Redfish channel (https://discord.com/channels/775381525260664832/855566794994221117/1118989788981231676) OpenBMC was going to do \"\n2) For Redfish PCIe Devices, look for Inventory.Item.PCIeSlot in addition to  Inventory.Item.PCIeDevice. If you see the association, combine them into one object; if no association, an Inventory.Item.PCIeSlot shows up as an Absent Redfish PCIeDevice\"\n\nThere is a 3rd choice here, we have both an association from PCIeSlot \u003c-\u003e CPU and PCIeDevice \u003c-\u003e CPU but that seems like overkill but I am okay if we want to go that direction. That would support use cases where you have PCIeSlots or PCIeDevices but not both and you want this link.",
      "parentUuid": "d703a106_10ceb2a6",
      "range": {
        "startLine": 28,
        "startChar": 10,
        "endLine": 28,
        "endChar": 20
      },
      "revId": "1d316b4fb6c9209be3505aec7e233106657c535c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92d55b26_440df6b6",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/README.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T16:50:32Z",
      "side": 1,
      "message": "Hmm.  What happens when we have a \"CPU -\u003e USB Hub\" on the mainboard?  PCIeSlot currently has the Lanes property but the MaxLanes/LanesInUse is also supported in PCIeDevice.  I suspect the default behavior would be that someone would _not_ create a PCIeSlot in this scenario but would have naively modeled \"CPU -\u003e PCIeDevice\".  We just need to make sure that this scenario is covered by the bmcweb implementation (and ideally documented somewhere).",
      "parentUuid": "c46184e3_853ea6e9",
      "range": {
        "startLine": 28,
        "startChar": 10,
        "endLine": 28,
        "endChar": 20
      },
      "revId": "1d316b4fb6c9209be3505aec7e233106657c535c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d16f014_f6386b8d",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/README.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-07-18T20:10:09Z",
      "side": 1,
      "message": "\u003e What happens when we have a \"CPU -\u003e USB Hub\" on the mainboard? PCIeSlot currently has the Lanes property but the MaxLanes/LanesInUse is also supported in PCIeDevice. I suspect the default behavior would be that someone would not create a PCIeSlot in this scenario but would have naively modeled \"CPU -\u003e PCIeDevice\".\n\nAck. The other choice would be we add that 2nd association, CPU \u003c-\u003e PCIeDevice, now and then the modeling in the example above, naively modeled \"CPU -\u003e PCIeDevice\", works. I don\u0027t mind doing that if you think it is better? \n\n\u003e We just need to make sure that this scenario is covered by the bmcweb implementation (and ideally documented somewhere).\n\nyeah, we can try to document something around PCIeSlot, PCIeDevice. \nbmcweb is going to look for Cpu -\u003e Connected_to -\u003e PCIeSlot -\u003e Containing -\u003e PCIeDevice (or the reverse Cpu \u003c- connecting \u003c- PCIeSlot \u003c- contained_by \u003c- PCIeDevice) to model the PCIeDevice-\u003eCpu Link.",
      "parentUuid": "92d55b26_440df6b6",
      "range": {
        "startLine": 28,
        "startChar": 10,
        "endLine": 28,
        "endChar": 20
      },
      "revId": "1d316b4fb6c9209be3505aec7e233106657c535c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e276a7c_fd8e9038",
        "filename": "yaml/xyz/openbmc_project/Inventory/Item/README.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:17:13Z",
      "side": 1,
      "message": "I\u0027m fine with either approach as long as it is documented somewhere.\n\nNeither of them are ideal:\n- Requiring a PCIeSlot for something that isn\u0027t a slot isn\u0027t obvious.\n- Having multiple associations / end-points to search through is awkward.",
      "parentUuid": "6d16f014_f6386b8d",
      "range": {
        "startLine": 28,
        "startChar": 10,
        "endLine": 28,
        "endChar": 20
      },
      "revId": "1d316b4fb6c9209be3505aec7e233106657c535c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}